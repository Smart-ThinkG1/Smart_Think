<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="shortcut icon" href="./assets/iconPage.png" type="image/x-icon">
    <script src="https://kit.fontawesome.com/64ceb195cd.js" crossorigin="anonymous"></script>
</head>

<body>
    <header id="head_id">
        <div class="container">
            <ul class="navbar">

                <div class="navClass navLogo">
                    <img src="assets/logoSmartThink 1.png" alt="">
                    <div class="logoName">
                        <h2>Smart Think</h2>
                    </div>
                </div>

                <div class="navClass navBtn">
                    <a href="#home">
                        <li>Início</li>
                    </a>
                    <a href="#valores">
                        <li>Nossos valores</li>
                    </a>
                    <a href="#sobreNos">
                        <li>Sobre nós</li>
                    </a>
                    <a href="#solution">
                        <li>Nossa Solução</li>
                    </a>
                    <a href="#equipe">
                        <li>Nossa Equipe</li>
                    </a>
                </div>

                <div class="navClass userBtn">
                    <a href="#" id="loginBtn">
                        <li>Login</li>
                    </a>
                    <a href="#" id="signupBtn">Cadastrar</a>
                </div>

                <div id="mobile-btn">
                    <button><i class="fa-solid fa-bars"></i></button>
                </div>
            </ul>
        </div>
        <ul id="mobile-menu" class="hide">

            <a href="#home">
                Início
            </a>
            <a href="#valores">
                Nossos valores
            </a>
            <a href="#sobreNos">
                Sobre nós
            </a>
            <a href="#solution">
                Nossa Solução
            </a>
            <a href="#equipe">
                Nossa Equipe
            </a>

            <a href="#" id="signupBtnMobile">Cadastrar</a>

            <a href="#" class="loginBtn" id="loginBtnMobile">
                Login
            </a>
        </ul>

    </header>

    <div id="modal-container" class="modal-container">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Cadastrar</h2>
            <p>Seja bem vindo(a) a Smart Think, realize o seu cadastro para obter acesso a área de usuário de sua
                franquia.</p>
            <form>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <input type="text" maxlength="28" id="nome" placeholder="" required>
                    <label for="nome">Nome</label>
                    <span class="info-icon" title="Insira seu nome completo.">
                        <i class="fas fa-info-circle"></i>
                    </span>
                </div>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-id-card"></i>
                    </div>
                    <input type="text" maxlength="14" id="cpf" placeholder="" required pattern="\d*">
                    <label for="cpf">CPF</label>
                    <span class="info-icon" title="Apenas números. Ex: 123.456.789-00">
                        <i class="fas fa-info-circle"></i>
                    </span>
                </div>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <input type="email" maxlength="45" id="email" placeholder="" required>
                    <label for="email">Email</label>
                    <span class="info-icon" title="Insira um email válido.">
                        <i class="fas fa-info-circle"></i>
                    </span>
                </div>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <input type="password" maxlength="20" id="senha" placeholder="" required>
                    <label for="senha">Senha</label>
                    <span class="info-icon" title="A senha deve ter pelo menos 8 caracteres.">
                        <i class="fas fa-info-circle"></i>
                    </span>
                </div>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-key"></i>
                    </div>
                    <input type="text" maxlength="20" id="codigoAccess" placeholder="" required>
                    <label for="codigoAccess">Código </label>
                    <span class="info-icon" title="Insira o código enviado para seu email.">
                        <i class="fas fa-info-circle"></i>
                    </span>
                </div>
                <button type="submit" onclick="cadastrar()">Cadastrar</button>
                <div class="switch-text">
                    <p>Já tem uma conta? <a href="#" id="showLogin">Entre</a></p>
                </div>
            </form>
        </div>
    </div>

    <div id="loginModal" class="modal-container">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Login</h2>
            <p>Bem vindo(a) de volta, realize o login para ter acesso a área do usuário de sua franquia.</p>
            <form>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <input type="email" maxlength="40" id="loginEmail" placeholder="" required>
                    <label for="loginEmail">Email</label>
                </div>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <input type="password" maxlength="20" id="loginSenha" placeholder="" required>
                    <label for="loginSenha">Senha</label>
                </div>
                <button type="submit" onclick="login()">Entrar</button>
                <div class="switch-text">
                    <p>Ainda não tem uma conta? <a href="#" id="showSignup">Cadastre-se</a></p>
                </div>
            </form>
        </div>
    </div>

    <section class="banner" id="home">
        <div class="container">
            <div class="banner-info">
                <div class="text">
                    <p>Inovação. Insights. Automação.</p>
                    <h3>
                        Marketing Sem Limites
                    </h3>
                    <h4>Liberte seu potencial e alcance novos horizontes!</h4>
                </div>
                <a href="#" id="bannerServiceBtn">Contratar Serviço</a>
            </div>
        </div>
    </section>

    <div id="serviceModal" class="modal-container">
        <div class="modal-content-service">
            <span class="close">&times;</span>
            <h2><strong>Interessado em nosso serviço?</strong></h2>
            <p>Ficamos felizes em saber que você deseja dar o próximo passo para otimizar suas campanhas de marketing!
                Preencha o formulário abaixo com o email e seu nome, e entraremos em contato em breve para discutir como
                podemos ajudar sua empresa de fast food a alcançar os melhores resultados. Nossa equipe especializada
                enviará todos os detalhes diretamente para o seu e-mail por meio do endereço oficial da Smart Think.</p>
            <form>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <input type="text" id="nomeClient" maxlength="50" placeholder="" required>
                    <label for="nomeClient">Nome</label>
                </div>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <input type="email" id="serviceEmail" max="40" placeholder="" required>
                    <label for="serviceEmail">Email</label>
                </div>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <input type="number" id="telephoneClient" maxlength="11" placeholder="" required>
                    <label for="nomeClient">Telefone</label>
                </div>
                <div class="input-container">
                    <div class="input-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <input type="text" id="empresaClient" max="40" placeholder="" required>
                    <label for="nomeClient">Empresa</label>
                </div>
                <button type="submit" onclick="sendClientData()">Enviar</button>
            </form>
        </div>
    </div>

    <section class="valores" id="valores">
        <div class="container">

            <div class="value-card">
                <div class="title-card">
                    <h3> Estratégia </h3>
                </div>

                <div class="description-card">
                    Nossos serviços fornecem insights aprofundados sobre o comportamento
                    do público, permitindo otimizar estratégias de marketing com confiança.
                </div>

                <div class="icon">
                    <i class="fa-solid fa-bullseye"></i>
                </div>
            </div>

            <div class="value-card">
                <div class="title-card">
                    <h3>Liderança </h3>
                </div>

                <div class="description-card">
                    Nosso objetivo é capacitar empresas a maximizar o potencial de suas campanhas com insights
                    profundos, permitindo que liderem tendências.
                </div>

                <div class="icon">
                    <i class="fa-solid fa-user-gear"></i>
                </div>
            </div>
            <div class="value-card">
                <div class="title-card">
                    <h3> Eficiência e Otimização </h3>
                </div>

                <div class="description-card">

                    Ajudamos nossos clientes a maximizar a eficiência e o retorno das campanhas, identificando
                    oportunidades e otimizando recursos para atingir o público-alvo de forma eficaz.
                </div>

                <div class="icon">
                    <i class="fa-solid fa-gears"></i>
                </div>
            </div>
        </div>
    </section>

    <section class="sobreNos" id="sobreNos">
        <div class="container">
            <div class="area bannerArea">
                <img src="assets/bgSobrenos.jpeg" alt="">
            </div>
            <div class="area headArea">
                <div class="headTitle">
                    <h3>SEU GUIA NAS DECISÕES DE MARKETING</h3>
                </div>
                <div class="description">
                    <p>

                        Na Smart Think, somos seu guia nas decisões de marketing. Entendemos que navegar no mundo do
                        marketing pode ser desafiador. Com nossos dados precisos e insights estratégicos, ajudamos a
                        tornar suas escolhas mais assertivas, acelerando o crescimento da sua marca. Nossa tecnologia
                        permite que você tome decisões informadas, otimizando resultados e maximizando o retorno sobre o
                        investimento. Conte conosco em cada etapa para alcançar o sucesso. </p>
                </div>
                <button id="open-modal-btn">
                    Saiba Mais
                </button>
            </div>

            <div id="fade-modal" class="hide"></div>

            <div class="modal hide" id="modal-sobrenos">
                <div class="modal-header">
                    <div id="close-modal-btn">
                        <i class="fa-solid fa-xmark"></i>
                    </div>
                    <h2>Sobre Nós</h2>
                </div>

                <div class="modal-body">

                    <p> Na Smart Think, somos seu guia nas decisões de marketing. Entendemos que navegar no mundo do
                        marketing pode ser desafiador. Com nossos dados precisos e insights estratégicos, ajudamos a
                        tornar suas escolhas mais assertivas, acelerando o crescimento da sua marca. Nossa tecnologia
                        permite que você tome decisões informadas, otimizando resultados e maximizando o retorno sobre o
                        investimento. Conte conosco em cada etapa para alcançar o sucesso. </p>
                    <p>Além de nossos serviços de análise de dados e geração de insights, acreditamos que a educação
                        contínua é fundamental para o sucesso a longo prazo. Por isso, oferecemos workshops e
                        treinamentos personalizados, capacitando sua equipe a utilizar as ferramentas de marketing mais
                        modernas e a entender as melhores práticas do setor. O nosso compromisso vai além de fornecer
                        soluções; queremos que você e sua equipe se sintam confiantes e preparados para enfrentar os
                        desafios do marketing digital.

                        Em um mercado em constante evolução, a adaptabilidade é a chave. Estamos sempre atentos às
                        últimas tendências e inovações do setor, garantindo que nossas estratégias sejam não apenas
                        eficazes, mas também relevantes. Nossa equipe é composta por especialistas apaixonados, prontos
                        para se aprofundar nas especificidades do seu negócio e criar soluções sob medida. Na Smart
                        Think, sua visão se torna nossa missão, e juntos, podemos transformar sua marca em um verdadeiro
                        case de sucesso.</p>
                </div>
            </div>

        </div>
    </section>

    <section class="solution" id="solution">
        <div class="container">

            <div class="title">
                <h2>Nossa solução tecnológica</h2>
            </div>

            <div class="bubbles">
                <div class="dottedLine">
                    <img src="assets/line.png" alt="">
                </div>

                <div class="bubbleArea">
                    <div class="bubble">
                        <i class="fa-solid fa-database"></i>
                        <div class="numberCircle">
                            1
                        </div>
                    </div>

                    <div class="text">
                        <div class="bubbleTitle">
                            <h3>Captura e Tratamento de Dados</h3>
                        </div>
                        <div class="description">
                            <p>Coletamos informações da marca de várias fontes e as processamos para compatibilidade com
                                nossa API.</p>
                        </div>
                    </div>
                </div>

                <div class="bubbleArea">
                    <div class="bubble">
                        <i class="fa-solid fa-magnifying-glass-chart"></i>
                        <div class="numberCircle secondary">
                            2
                        </div>
                    </div>
                    <div class="text">
                        <div class="bubbleTitle">
                            <h3>Análise de dados integrada com IA generativa</h3>
                        </div>
                        <div class="description">
                            <p>Utilizamos IA generativa para identificar padrões e extrair informações relevantes dos
                                dados processados, enriquecendo a análise.</p>
                        </div>
                    </div>
                </div>

                <div class="bubbleArea">
                    <div class="bubble">
                        <i class="fa-solid fa-lightbulb"></i>
                        <div class="numberCircle">
                            3
                        </div>
                    </div>

                    <div class="text">
                        <div class="bubbleTitle">
                            <h3>Sugestões e Insights</h3>
                        </div>
                        <div class="description">
                            <p>Fornecemos recomendações e insights estratégicos para maximizar o desempenho da marca
                                e a
                                satisfação do cliente.</p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section class="equipe" id="equipe">
        <div class="bgVideo">
            <video src="assets/bgNossaEquipe.mp4" autoplay muted loop></video>
        </div>

        <div class="container">
            <div class="title">
                <h2>Conheça nossa equipe</h2>
            </div>

            <div class="card-wrapper">
                <div class="card">
                    <div class="user">
                        <img src="assets/User Profile/Ana.png" alt="">
                    </div>
                    <div class="text">
                        <div class="card-title">
                            <h1>Ana Silva</h1>
                        </div>
                        <div class="card-subtitle">
                            <h2>Negócios</h2>
                        </div>
                    </div>
                    <div class="social">
                        <div class="icon linkedIn">
                            <a href="https://www.linkedin.com/in/anacampaner/" target="_blank"><i
                                    class="fa-brands fa-linkedin-in"></i></a>
                        </div>
                        <div class="icon gitHub">
                            <a href="https://github.com/anacampaner" target="_blank"><i
                                    class="fa-brands fa-github"></i></a>
                        </div>
                        <div class="icon email">
                            <a href="mailto:anafsilva@sptech.school"><i class="fa-solid fa-envelope"></i></a>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="user">
                        <img src="assets/User Profile/Cris.png" alt="">
                    </div>
                    <div class="text">
                        <div class="card-title">
                            <h1>Cristhian Lauriano</h1>
                        </div>
                        <div class="card-subtitle">
                            <h2>Dev BackEnd</h2>
                        </div>
                    </div>
                    <div class="social">
                        <div class="icon linkedIn">
                            <a href="https://www.linkedin.com/in/cristhian-lauriano-545489203/" target="_blank"><i
                                    class="fa-brands fa-linkedin-in"></i></a>
                        </div>
                        <div class="icon gitHub">
                            <a href="https://github.com/Lauriano29" target="_blank"><i
                                    class="fa-brands fa-github"></i></a>
                        </div>
                        <div class="icon email">
                            <a href="mailto:cristhian.marqueze@sptech.school"><i class="fa-solid fa-envelope"></i></a>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="user">
                        <img src="assets/User Profile/Denyel.png" alt="">
                    </div>
                    <div class="text">
                        <div class="card-title">
                            <h1>Denyel Henry</h1>
                        </div>
                        <div class="card-subtitle">
                            <h2>Dev BackEnd</h2>
                        </div>
                    </div>
                    <div class="social">
                        <div class="icon linkedIn">
                            <a href="https://www.linkedin.com/in/denyel-oliveira-1b294430b/"" target=" _blank"><i
                                    class="fa-brands fa-linkedin-in"></i></a>
                        </div>
                        <div class="icon gitHub">
                            <a href="https://github.com/DHenry14" target="_blank"><i
                                    class="fa-brands fa-github"></i></a>
                        </div>
                        <div class="icon email">
                            <a href="mailto:denyel.oliveira@sptech.school"><i class="fa-solid fa-envelope"></i></a>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="user">
                        <img src="assets/User Profile/Fernando.jpg" alt="">
                    </div>
                    <div class="text">
                        <div class="card-title">
                            <h1>Fernando Henrique</h1>
                        </div>
                        <div class="card-subtitle">
                            <h2>Dev FrontEnd</h2>
                        </div>
                    </div>
                    <div class="social">
                        <div class="icon linkedIn">
                            <a href="https://www.linkedin.com/in/fernando-henrique-santos-soares-955a9419b/"
                                target="_blank"><i class="fa-brands fa-linkedin-in"></i></a>
                        </div>
                        <div class="icon gitHub">
                            <a href="https://github.com/Fernando-Henrique-SpTech" target="_blank"><i
                                    class="fa-brands fa-github"></i></a>
                        </div>
                        <div class="icon email">
                            <a href="mailto:fernando.soares@sptech.school"><i class="fa-solid fa-envelope"></i></a>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="user">
                        <img src="assets/User Profile/Gustavo.png" alt="">
                    </div>
                    <div class="text">
                        <div class="card-title">
                            <h1>Gustavo Aloe</h1>
                        </div>
                        <div class="card-subtitle">
                            <h2>Infraestrutura</h2>
                        </div>
                    </div>
                    <div class="social">
                        <div class="icon linkedIn">
                            <a href="https://www.linkedin.com/in/gustavo-aloe-a957872b6/" target="_blank"><i
                                    class="fa-brands fa-linkedin-in"></i></a>
                        </div>
                        <div class="icon gitHub">
                            <a href="https://github.com/GustavoAloe" target="_blank"><i
                                    class="fa-brands fa-github"></i></a>
                        </div>
                        <div class="icon email">
                            <a href="mailto:gustavo.moraes@sptech.school"><i class="fa-solid fa-envelope"></i></a>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </section>

    <footer class="rodape" id="contato">

        <div class="container">

            <div class="social">

                <div class="contato">
                    <h3>CONTATO</h3>
                    <p>E-mail: contato@smartthink.com</p>
                    <p>Telefone: (11) 1234-5678</p>
                    <p>Endereço: Av. Inovação, 456, São Paulo, SP</p>
                </div>

                <div class="redes-sociais">
                    <h3>REDES SOCIAIS</h3>
                    <div class="icones">
                        <a href="#"><i class="fa-brands fa-square-facebook"></i></a>
                        <a href="#"><i class="fa-brands fa-instagram"></i></a>
                        <a href="#"><i class="fa-brands fa-linkedin"></i></a>
                    </div>
                </div>

            </div>


            <div class="logo">
                <img src="assets/logoSmartThink 1.png" alt="Logo">
            </div>

            <div class="copyright">
                <p>© 2024 Todos os direitos reservados | Smart Think</p>
            </div>



        </div>

    </footer>

</body>

</html>

<script>

    // Header Dinamico
    window.addEventListener("scroll", function () {
        const head = document.getElementById("head_id");
        head.classList.toggle("sticky", window.scrollY > 0)

    })
    // Modal Sobrenos
    const OpenModal_sobrenos = document.getElementById("open-modal-btn");
    const CloseModal_sobrenos = document.getElementById("close-modal-btn");
    const Modal_sobrenos = document.getElementById("modal-sobrenos");
    const FadeModal_sobrenos = document.getElementById("fade-modal");

    const toggleModal = () => {
        Modal_sobrenos.classList.toggle("hide");
        FadeModal_sobrenos.classList.toggle("hide");


    }

    [FadeModal_sobrenos, OpenModal_sobrenos, CloseModal_sobrenos].forEach((el) => {
        el.addEventListener("click", () => toggleModal())
    })

    // Mobile Hamburger
    const mobileBtn = document.getElementById("mobile-btn");
    const mobileMenu = document.getElementById("mobile-menu");
    const menuLinks = mobileMenu.querySelectorAll("a");

    // Altera a visibilidade do menu mobile
    if (mobileBtn && mobileMenu) {
        const toggleMobileMenu = () => {
            mobileMenu.classList.toggle("hide");

            // Alterna o ícone do botão
            toggleIcon();
        };

        mobileBtn.addEventListener("click", toggleMobileMenu);
    }
    // fechar menu quando acessar link
    menuLinks.forEach(link => {
        link.addEventListener("click", () => {
            mobileMenu.classList.add("hide");
            toggleIcon();

        })
    })

    // trocar icone
    const toggleIcon = () => {
        const icon = mobileBtn.querySelector('i');
        icon.classList.toggle('fa-xmark');
        icon.classList.toggle('fa-bars');
    }


    document.addEventListener('DOMContentLoaded', () => {
        const modal = document.getElementById("modal-container");
        const modalService = document.getElementById("serviceModal");
        const loginModal = document.getElementById("loginModal");
        const loginBtn = document.getElementById("loginBtn");
        const loginBtnMobile = document.getElementById("loginBtnMobile");
        const signupBtn = document.getElementById("signupBtn");
        const signupBtnMobile = document.getElementById("signupBtnMobile");
        const bannerServiceBtn = document.getElementById("bannerServiceBtn");
        const closeModal = document.querySelectorAll(".close");
        const inputs = document.querySelectorAll('input');
        const cpfInput = document.getElementById('cpf');

        let listaEmpresasCadastradas = [];

        cpfInput.addEventListener('input', function () {
            cpfInput.value = cpfInput.value.replace(/\D/g, '');
        });

        function clearInputs() {
            inputs.forEach(input => input.value = '');
        }

        function openSignupModal() {
            modal.style.display = "flex";
            clearInputs();
        }

        function openLoginModal() {
            loginModal.style.display = "flex";
            clearInputs();
        }

        signupBtn.onclick = openSignupModal;
        signupBtnMobile.onclick = openSignupModal;

        loginBtn.onclick = openLoginModal;
        loginBtnMobile.onclick = openLoginModal;

        bannerServiceBtn.onclick = function () {
            modalService.style.display = "flex";
            clearInputs();
        };

        closeModal.forEach(button => {
            button.onclick = function () {
                modal.style.display = "none";
                loginModal.style.display = "none";
                modalService.style.display = "none";
                clearInputs();
            };
        });

        window.onclick = function (event) {
            if (event.target == modal || event.target == loginModal || event.target == modalService) {
                modal.style.display = "none";
                loginModal.style.display = "none";
                modalService.style.display = "none";
                clearInputs();
            }
        };

        function mostrarErro(mensagem) {
            let cardErro = document.getElementById('cardErro');
            if (!cardErro) {
                cardErro = document.createElement('div');
                cardErro.id = 'cardErro';
                cardErro.style.color = 'red';
                document.querySelector('.modal-content').appendChild(cardErro);
            }
            cardErro.style.display = 'block';
            cardErro.innerHTML = mensagem;
        }

        function sumirMensagem() {
            const cardErro = document.getElementById('cardErro');
            if (cardErro) {
                cardErro.style.display = 'none';
            }
        }

        function cadastrar() {
            var nomeVar = document.getElementById('nome').value;
            var cpfVar = document.getElementById('cpf').value;
            var emailVar = document.getElementById('email').value;
            var senhaVar = document.getElementById('senha').value;
            var codigoAccessVar = document.getElementById('codigoAccess').value;
            var idEmpresaVar = document.getElementById('idEmpresa_input')?.value;

            sumirMensagem(); // Limpa mensagens de erro antes da validação

            var temNumero = /\d/;
            var temMaiuscula = /[A-Z]/;
            if (!temNumero.test(senhaVar) || !temMaiuscula.test(senhaVar)) {
                mostrarErro("A senha precisa ter pelo menos uma letra maiúscula e um número.");
                return;
            }

            if (nomeVar && cpfVar && emailVar && senhaVar && codigoAccessVar) {
                fetch("/usuarios/cadastrar", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        nomeServer: nomeVar,
                        cpfServer: cpfVar,
                        emailServer: emailVar,
                        senhaServer: senhaVar,
                        idEmpresaServer: codigoAccessVar
                    }),
                })
                    .then(function (resposta) {
                        if (resposta.ok) {
                            alert("Cadastro realizado com sucesso! Agora, faça o login.");
                            openLoginModal(); // Chama o modal de login
                            modal.style.display = "none"; // Fecha o modal de cadastro
                        } else {
                            mostrarErro("Erro ao tentar realizar o cadastro.");
                        }
                    })
                    .catch(function (erro) {
                        console.log("#ERRO:", erro);
                        mostrarErro("Erro ao tentar realizar o cadastro. Tente novamente mais tarde.");
                    });
            } else {
                mostrarErro("Todos os campos devem ser preenchidos!");
            }
        }
        // Mascara de inputs -
        // **** CPF XXX-XXX-XXX.XX:
        const maskCPF = (cpf) => {
            return cpf
                .replace(/\D/g, '')                     // Remove todos os caracteres não dígitos
                .replace(/(\d{3})(\d)/, '$1.$2')        // Primeiro ponto
                .replace(/(\d{3})(\d)/, '$1.$2')        // Segundo ponto
                .replace(/(\d{3})(\d{1,2})$/, '$1-$2'); // Traço
        };

        // evento que ouve o campo CPF
        cpfInput.addEventListener('input', () => {
            cpfInput.value = maskCPF(cpfInput.value);
        });

        // Evento para o botão de submit no modal de cadastro
        document.querySelector('.modal-content button[type="submit"]').addEventListener('click', function (event) {
            event.preventDefault();
            cadastrar();
        });

        // Login
        const emailInput = document.getElementById("loginEmail");
        const senhaInput = document.getElementById("loginSenha");

        function login() {
            const emailVar = emailInput.value.trim();
            const senhaVar = senhaInput.value.trim();

            sumirMensagem(); // Limpa mensagens de erro antes da validação

            if (!emailVar || !emailVar.includes("@") || !emailVar.includes(".")) {
                mostrarErro("E-mail inválido. Por favor, insira um e-mail válido.");
                return;
            }

            if (senhaVar.length < 8) {
                mostrarErro("A senha deve ter pelo menos 8 caracteres.");
                return;
            }

            fetch("/usuarios/autenticar", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({
                    emailServer: emailVar,
                    senhaServer: senhaVar
                }),
            })
                .then(function (resposta) {
                    if (resposta.ok) {
                        return resposta.json();
                    } else if (resposta.status === 401) {
                        mostrarErro("E-mail ou senha incorretos. Tente novamente.");
                    } else {
                        mostrarErro("Erro ao autenticar. Tente novamente mais tarde");
                    }
                })
                .then(function (dados) {
                    if (dados) {
                        localStorage.setItem("usuarioLogado", JSON.stringify(dados));
                        alert("Login realizado com sucesso!");
                        window.location = "./dashboard/dashboard.html";
                    }
                })
                .catch(function (erro) {
                    console.error("#ERRO:", erro);
                    mostrarErro("Erro ao tentar realizar o login. Tente novamente mais tarde.");
                });
        }

        document.querySelector('#loginModal form').addEventListener('submit', function (event) {
            event.preventDefault();
            login();
        })
    });


    // Login
    const emailInput = document.getElementById("loginEmail");
const senhaInput = document.getElementById("loginSenha");

function login() {
    const emailVar = emailInput.value.trim();
    const senhaVar = senhaInput.value.trim();

    sumirMensagem(); // Limpa mensagens de erro antes da validação

    if (!emailVar || !emailVar.includes("@") || !emailVar.includes(".")) {
        mostrarErro("E-mail inválido. Por favor, insira um e-mail válido.");
        return;
    }

    if (senhaVar.length < 8) {
        mostrarErro("A senha deve ter pelo menos 8 caracteres.");
        return;
    }

    fetch("/usuarios/autenticar", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
        },
        body: JSON.stringify({
            emailServer: emailVar,
            senhaServer: senhaVar
        }),
    })
    .then(function (resposta) {
        if (resposta.ok) {
          
                
            return resposta.json();
          
        } else if (resposta.status === 204) {
            mostrarErro("Nenhum aquário encontrado para sua empresa.");
        } else {
            mostrarErro("E-mail ou senha incorretos. Tente novamente.");
        }
    })
    .then(function (dados) {
        if (dados) {
            sessionStorage.EMAIL_USUARIO = dados.email;
            sessionStorage.FK_EMPRESA = dados.fkEmpresa;
            alert("Login realizado com sucesso!");
            window.location = "./dashboard/dashboard.html";
        }
    })
    .catch(function (erro) {
        console.error("#ERRO:", erro);
        mostrarErro("Erro ao tentar realizar o login. Tente novamente mais tarde.");
    });
}

// Evento para o botão de submit no modal de login
document.querySelector('#loginModal form').addEventListener('submit', function(event) {
    event.preventDefault();
    login();
});



    const infoIcons = document.querySelectorAll('.info-icon');
    let currentTooltip = null;

    infoIcons.forEach(icon => {
        icon.addEventListener('mouseenter', function () {
            if (currentTooltip) return;

            currentTooltip = document.createElement('div');
            currentTooltip.className = 'tooltip';
            currentTooltip.innerText = icon.getAttribute('title');
            document.body.appendChild(currentTooltip);
            const rect = icon.getBoundingClientRect();
            currentTooltip.style.left = `${rect.left + window.scrollX}px`;
            currentTooltip.style.top = `${rect.bottom + window.scrollY + 5}px`;
        });

        icon.addEventListener('mouseleave', function () {
            if (currentTooltip) {
                currentTooltip.remove();
                currentTooltip = null;
            }
        });
    });

    document.getElementById("showLogin").onclick = function () {
        modal.style.display = "none";
        loginModal.style.display = "flex";
    }

    document.getElementById("showSignup").onclick = function () {
        loginModal.style.display = "none";
        modal.style.display = "flex";
    }
</script>